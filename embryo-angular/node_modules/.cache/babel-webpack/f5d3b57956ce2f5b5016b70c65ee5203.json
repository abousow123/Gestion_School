{"ast":null,"code":"function round(v, precision) {\n  var res = Math.round(v / precision) * precision;\n\n  if (res < 1) {\n    res = 1;\n  }\n\n  return res;\n}\n\nfunction generateRanges(stats) {\n  // cannot compute any range\n  if (stats.min === stats.max) {\n    return [];\n  }\n\n  var precision = void 0;\n\n  if (stats.avg < 100) {\n    precision = 1;\n  } else if (stats.avg < 1000) {\n    precision = 10;\n  } else {\n    precision = 100;\n  }\n\n  var avg = round(Math.round(stats.avg), precision);\n  var min = Math.ceil(stats.min);\n  var max = round(Math.floor(stats.max), precision);\n\n  while (max > stats.max) {\n    max -= precision;\n  }\n\n  var next = void 0;\n  var from = void 0;\n  var facetValues = [];\n\n  if (min !== max) {\n    next = min;\n    facetValues.push({\n      to: next\n    });\n\n    while (next < avg) {\n      from = facetValues[facetValues.length - 1].to;\n      next = round(from + (avg - min) / 3, precision);\n\n      if (next <= from) {\n        next = from + 1;\n      }\n\n      facetValues.push({\n        from: from,\n        to: next\n      });\n    }\n\n    while (next < max) {\n      from = facetValues[facetValues.length - 1].to;\n      next = round(from + (max - avg) / 3, precision);\n\n      if (next <= from) {\n        next = from + 1;\n      }\n\n      facetValues.push({\n        from: from,\n        to: next\n      });\n    }\n\n    if (facetValues.length === 1) {\n      if (next !== avg) {\n        facetValues.push({\n          from: next,\n          to: avg\n        });\n        next = avg;\n      }\n    }\n\n    if (facetValues.length === 1) {\n      facetValues[0].from = stats.min;\n      facetValues[0].to = stats.max;\n    } else {\n      delete facetValues[facetValues.length - 1].to;\n    }\n  }\n\n  return facetValues;\n}\n\nexport default generateRanges;","map":{"version":3,"sources":["/home/sow/Bureau/ProjetPerso/Gestion_School/embryo-angular/node_modules/instantsearch.js/es/connectors/price-ranges/generate-ranges.js"],"names":["round","v","precision","res","Math","generateRanges","stats","min","max","avg","ceil","floor","next","from","facetValues","push","to","length"],"mappings":"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","sourcesContent":["function round(v, precision) {\n  var res = Math.round(v / precision) * precision;\n  if (res < 1) {\n    res = 1;\n  }\n  return res;\n}\n\nfunction generateRanges(stats) {\n  // cannot compute any range\n  if (stats.min === stats.max) {\n    return [];\n  }\n\n  var precision = void 0;\n  if (stats.avg < 100) {\n    precision = 1;\n  } else if (stats.avg < 1000) {\n    precision = 10;\n  } else {\n    precision = 100;\n  }\n  var avg = round(Math.round(stats.avg), precision);\n  var min = Math.ceil(stats.min);\n  var max = round(Math.floor(stats.max), precision);\n  while (max > stats.max) {\n    max -= precision;\n  }\n\n  var next = void 0;\n  var from = void 0;\n  var facetValues = [];\n  if (min !== max) {\n    next = min;\n\n    facetValues.push({\n      to: next\n    });\n\n    while (next < avg) {\n      from = facetValues[facetValues.length - 1].to;\n      next = round(from + (avg - min) / 3, precision);\n      if (next <= from) {\n        next = from + 1;\n      }\n      facetValues.push({\n        from: from,\n        to: next\n      });\n    }\n    while (next < max) {\n      from = facetValues[facetValues.length - 1].to;\n      next = round(from + (max - avg) / 3, precision);\n      if (next <= from) {\n        next = from + 1;\n      }\n      facetValues.push({\n        from: from,\n        to: next\n      });\n    }\n\n    if (facetValues.length === 1) {\n      if (next !== avg) {\n        facetValues.push({\n          from: next,\n          to: avg\n        });\n        next = avg;\n      }\n    }\n\n    if (facetValues.length === 1) {\n      facetValues[0].from = stats.min;\n      facetValues[0].to = stats.max;\n    } else {\n      delete facetValues[facetValues.length - 1].to;\n    }\n  }\n  return facetValues;\n}\n\nexport default generateRanges;"]},"metadata":{},"sourceType":"module"}