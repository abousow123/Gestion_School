!function(t,o){"object"==typeof exports&&"undefined"!=typeof module?o(exports,require("@angular/core"),require("rxjs"),require("@angular/platform-browser"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-toasta",["exports","@angular/core","rxjs","@angular/platform-browser","@angular/common"],o):o((t=t||self)["ngx-toasta"]={},t.ng.core,t.rxjs,t.ng.platformBrowser,t.ng.common)}(this,function(t,o,e,n,s){"use strict";function i(t){return"function"==typeof t}var r=function(){function t(){}return t.decorators=[{type:o.Injectable}],t}(),a=function(){function t(){}return t.decorators=[{type:o.Injectable}],t}(),c=function(){function t(){this.limit=5,this.showClose=!0,this.showDuration=!0,this.position="bottom-right",this.timeout=5e3,this.theme="default"}return t.decorators=[{type:o.Injectable}],t}(),u={ADD:0,CLEAR:1,CLEAR_ALL:2};u[u.ADD]="ADD",u[u.CLEAR]="CLEAR",u[u.CLEAR_ALL]="CLEAR_ALL";var p=function(){return function(t,o){this.type=t,this.value=o}}();function l(t){return new f(t)}var f=function(){function t(t){this.config=t,this.uniqueCounter=0,this.eventSource=new e.Subject,this.events=this.eventSource.asObservable()}return t.prototype["default"]=function(t){this.add(t,"default")},t.prototype.info=function(t){this.add(t,"info")},t.prototype.success=function(t){this.add(t,"success")},t.prototype.wait=function(t){this.add(t,"wait")},t.prototype.error=function(t){this.add(t,"error")},t.prototype.warning=function(t){this.add(t,"warning")},t.prototype.add=function(o,e){var n;if(!(n="string"==typeof o&&""!==o||function(t){return"number"==typeof t}(o)?{title:o.toString()}:o)||!n.title&&!n.msg)throw new Error("ngx-toasta: No toast title or message specified!");e=e||"default",this.uniqueCounter++;var s,r=this._checkConfigItem(this.config,n,"showClose"),a=this._checkConfigItem(this.config,n,"showDuration");s=n.theme&&t.THEMES.indexOf(n.theme)>-1?n.theme:this.config.theme;var c={id:this.uniqueCounter,title:n.title,msg:n.msg,showClose:r,showDuration:a,type:"toasta-type-"+e,theme:"toasta-theme-"+s,onAdd:n.onAdd&&i(n.onAdd)?n.onAdd:null,onRemove:n.onRemove&&i(n.onRemove)?n.onRemove:null};c.timeout=n.hasOwnProperty("timeout")?n.timeout:this.config.timeout,this.emitEvent(new p(u.ADD,c)),n.onAdd&&i(n.onAdd)&&n.onAdd.call(this,c)},t.prototype.clearAll=function(){this.emitEvent(new p(u.CLEAR_ALL))},t.prototype.clear=function(t){this.emitEvent(new p(u.CLEAR,t))},t.prototype._checkConfigItem=function(t,o,e){return!1!==o[e]&&(!!o[e]||t[e])},t.prototype.emitEvent=function(t){this.eventSource&&this.eventSource.next(t)},t.THEMES=["default","material","bootstrap"],t.decorators=[{type:o.Injectable}],t.ctorParameters=function(){return[{type:c}]},t}(),h=function(){function t(t,o){this.config=t,this.toastaService=o,this._position="",this.toasts=[],this.position=""}return Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(o){if(o){for(var e=!0,n=0;n<t.POSITIONS.length;n++)if(t.POSITIONS[n]===o){e=!1;break}e&&(o=this.config.position)}else o=this.config.position;this._position="toasta-position-"+o},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.toastaService.events.subscribe(function(o){if(o.type===u.ADD){var e=o.value;t.add(e)}else if(o.type===u.CLEAR){var n=o.value;t.clear(n)}else o.type===u.CLEAR_ALL&&t.clearAll()})},t.prototype.closeToast=function(t){this.clear(t.id)},t.prototype.add=function(t){this.config.limit&&this.toasts.length>=this.config.limit&&this.toasts.shift(),this.toasts.push(t),+t.timeout&&this._setTimeout(t)},t.prototype.clear=function(t){var o=this;if(!t)throw new Error("Please provide id of Toast to close");this.toasts.forEach(function(e,n){e.id===t&&(e.onRemove&&i(e.onRemove)&&e.onRemove.call(o,e),o.toasts.splice(n,1))})},t.prototype.clearAll=function(){var t=this;this.toasts.forEach(function(o,e){o.onRemove&&i(o.onRemove)&&o.onRemove.call(t,o)}),this.toasts=[]},t.prototype._setTimeout=function(t){var o=this;window.setTimeout(function(){o.clear(t.id)},t.timeout)},t.POSITIONS=["bottom-right","bottom-left","bottom-center","bottom-fullwidth","top-right","top-left","top-center","top-fullwidth","center-center"],t.decorators=[{type:o.Component,args:[{selector:"ngx-toasta",template:'\n    <div id="toasta" [ngClass]="[position]">\n        <ngx-toast *ngFor="let toast of toasts" [toast]="toast" (closeToast)="closeToast(toast)"></ngx-toast>\n    </div>'}]}],t.ctorParameters=function(){return[{type:c},{type:f}]},t.propDecorators={position:[{type:o.Input}]},t}(),d=function(){function t(){this.progressPercent=0,this.startTime=performance.now(),this.closeToastEvent=new o.EventEmitter}return t.prototype.ngAfterViewInit=function(){var t=this;this.toast.showDuration&&this.toast.timeout>0&&(this.progressInterval=window.setInterval(function(){t.progressPercent=100-(performance.now()-t.startTime)/t.toast.timeout*100,t.progressPercent<=0&&clearInterval(t.progressInterval)},16.7))},t.prototype.close=function(t){t.preventDefault(),this.closeToastEvent.next(this.toast),this.progressInterval&&clearInterval(this.progressInterval)},t.decorators=[{type:o.Component,args:[{selector:"ngx-toast",template:'\n        <div class="toast" [ngClass]="[toast.type, toast.theme]">\n            <div *ngIf="toast.showClose" class="close-button" (click)="close($event)"></div>\n            <div *ngIf="toast.title || toast.msg" class="toast-text">\n                <span *ngIf="toast.title" class="toast-title" [innerHTML]="toast.title | safeHtml"></span>\n                <br *ngIf="toast.title && toast.msg" />\n                <span *ngIf="toast.msg" class="toast-msg" [innerHtml]="toast.msg | safeHtml"></span>\n            </div>\n            <div class="durationbackground" *ngIf="toast.showDuration && toast.timeout > 0">\n                <div class="durationbar" [style.width.%]="progressPercent">\n                </div>\n            </div>\n        </div>'}]}],t.propDecorators={toast:[{type:o.Input}],closeToastEvent:[{type:o.Output,args:["closeToast"]}]},t}(),m=function(){function t(t){this.domSanitized=t}return t.prototype.transform=function(t){for(var o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];return this.domSanitized.bypassSecurityTrustHtml(t)},t.decorators=[{type:o.Pipe,args:[{name:"safeHtml"}]}],t.ctorParameters=function(){return[{type:n.DomSanitizer}]},t}(),g=[c,{provide:f,useFactory:l,deps:[c]}],v=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:g}},t.decorators=[{type:o.NgModule,args:[{imports:[s.CommonModule],declarations:[d,h,m],exports:[d,h],providers:g}]}],t}();t.SafeHtmlPipe=m,t.ToastComponent=d,t.ToastData=a,t.ToastOptions=r,t.ToastaComponent=h,t.ToastaConfig=c,t.ToastaEvent=p,t.ToastaEventType=u,t.ToastaModule=v,t.ToastaService=f,t.providers=g,t.toastaServiceFactory=l,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-toasta.umd.min.js.map